<ion-content>
  <div class="stockout-container">
    <div class="card">
      <div class="card-header">
        <div class="left">
          <!-- <label class="select-all">
            <input id="selectAll" type="checkbox" />
          </label> -->
          <div class="title-block">
            <h2>Stock Out</h2>
            <p class="subtitle">
              Manage and track SIM card departures from inventory.
            </p>
          </div>
        </div>
        <div class="actions">
          <ion-button
            class="btn-primarydark"
            fill="clear"
            (click)="navigateToAssign()"
          >
            <ion-icon slot="start" name="people"></ion-icon>
            Bulk Assign
          </ion-button>
          <ion-button class="btn-primary" (click)="add()">
            <ion-icon slot="start" name="add"></ion-icon>
            Stock Out
          </ion-button>
        </div>
      </div>

      <div class="list">
        <div *ngFor="let s of sims; let i = index" class="list-item">
          <div class="item-left">
            <div class="row-num">{{ (page - 1) * limit + i + 1 }}</div>
          </div>
          <div class="item-main">
            <h3 class="item-title">{{ s.serialNumber || s.msisdn || "-" }}</h3>
            <div class="meta">
              <!-- <span><strong>ID:</strong> {{ s.id }}</span>
              <span class="sep">|</span> -->
              <span><strong>IMSI:</strong> {{ s.imsi || "-" }}</span>
              <span class="sep">|</span>
              <span class="type"
                >Type: {{ s.simType?.name || "-" }} ({{
                  s.simType?.purchaseProduct || "-"
                }})</span
              >
            </div>
            <div class="owner">
              Assigned To: <strong>{{ s.ownerName || s.owner || "-" }}</strong>
            </div>
          </div>
          <div class="item-actions">
            <ion-button
              fill="clear"
              (click)="$event.stopPropagation(); assignToCustomer(s)"
              title="Assign"
            >
              <ion-icon name="people"></ion-icon>
            </ion-button>
            <!-- <ion-button
              fill="clear"
              (click)="$event.stopPropagation(); edit(s.id)"
              title="Edit"
            >
              <ion-icon name="create"></ion-icon>
            </ion-button> -->
            <ion-button
              fill="clear"
              color="danger"
              (click)="$event.stopPropagation(); remove(s.id)"
              title="Remove"
            >
              <ion-icon name="trash"></ion-icon>
            </ion-button>
          </div>
        </div>
      </div>

      <div class="card-footer">
        <div class="footer-left">
          <div class="per-page">
            <label class="per-page-label">Items per page:</label>
            <div class="select-wrap">
              <select
                class="page-select"
                [(ngModel)]="limit"
                (ngModelChange)="onLimitChange($event)"
              >
                <option [value]="5">5</option>
                <option [value]="10">10</option>
                <option [value]="20">20</option>
                <option [value]="100">100</option>
              </select>
              <div class="select-arrow">▾</div>
            </div>
          </div>
          <div class="range">
            {{ (page - 1) * limit + (sims.length ? 1 : 0) }} –
            {{ (page - 1) * limit + (sims.length || 0) }} of {{ total }}
          </div>
        </div>
        <div class="footer-right">
          <button class="page-btn" [disabled]="page <= 1" (click)="prevPage()">
            ‹
          </button>
          <button
            class="page-btn"
            [disabled]="page >= totalPages"
            (click)="nextPage()"
          >
            ›
          </button>
        </div>
      </div>
    </div>

    <!-- <div id="bulk-actions" class="bulk-actions">
      <div class="count">3 <span>SIM cards selected</span></div>
      <div class="bulk-buttons">
        <ion-button class="btn-primary small">
          <ion-icon slot="start" name="person"></ion-icon>
          Assign Selected to Customer
        </ion-button>
        <button class="icon-btn" title="Cancel Selection">
          <ion-icon name="close"></ion-icon>
        </button>
      </div>
    </div> -->
  </div>
</ion-content>
